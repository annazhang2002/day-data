(this["webpackJsonpday-data"]=this["webpackJsonpday-data"]||[]).push([[0],{21:function(e,t,a){},33:function(e,t,a){},38:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),i=a(27),o=a.n(i),r=(a(33),a(22)),s=a(5),u=a(12),d=a(13),l=a(10),j=a(15);a(34),a(45);j.a.initializeApp({apiKey:"AIzaSyDG3OOX85L4j93eBU_5YGfwKrHyqyR4zqo",authDomain:"day-data-6a2e6.firebaseapp.com",databaseURL:"https://day-data-6a2e6-default-rtdb.firebaseio.com",projectId:"day-data-6a2e6",storageBucket:"day-data-6a2e6.appspot.com",messagingSenderId:"565567779519",appId:"1:565567779519:web:bb0be02aba68467cbb0c0a",measurementId:"G-W27M63J3LF"});j.a.auth(),j.a.firestore(),j.a.firestore().FieldValue;var b=j.a.firestore().collection("daily-data"),h=["rating"],O=["hadBreakfast","journaled"],f=a(18),v=a.n(f),p=(a(38),a(2)),g=function(){var e=Object(n.useState)({activities:[],newActivity:"",date:new Date,weather:"",hadBreakfast:!1,rating:5,readingTime:0}),t=Object(l.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(!1),o=Object(l.a)(i,2),r=o[0],j=o[1];Object(n.useEffect)((function(){b.orderBy("date","desc").limit(1).onSnapshot((function(e){e.forEach((function(e){var t,a,n=e.data().date.toDate();t=n,a=new Date,t.getDate()===a.getDate()&&t.getMonth()===a.getMonth()&&t.getFullYear()===a.getFullYear()?j(!0):j(!1)}))}),(function(e){console.log(e)}))}));var f=function(){b.add(v.a.omit(a,["newActivity"])).then((function(e){j(!0)})).catch((function(e){console.log("bad"+e)}))},g=function(e){var t=e.target,n=t.id,i=t.value;c(Object(d.a)(Object(d.a)({},a),{},Object(u.a)({},n,function(e,t){return h.includes(e)?parseInt(t):O.includes(e)?"true"===t:t}(n,i))))};return Object(p.jsx)("div",{children:r?Object(p.jsx)(s.a,{to:"/data"}):Object(p.jsxs)("div",{children:[Object(p.jsxs)("p",{children:["Weather: ",Object(p.jsx)("input",{type:"text",id:"weather",value:a.weather,onChange:g})]}),Object(p.jsxs)("p",{children:["Activites: ",Object(p.jsx)("input",{type:"text",id:"newActivity",value:a.newActivity||"",onChange:g}),"  ",Object(p.jsx)("button",{id:"activities",onClick:function(e){return function(e,t){var n,i=e.target.id;c(Object(d.a)(Object(d.a)({},a),{},(n={},Object(u.a)(n,i,v.a.concat(a[i],[a[t]])),Object(u.a)(n,t,""),n)))}(e,"newActivity")},children:"Add Activity"})," "]}),a.activities.map((function(e,t){return Object(p.jsx)("p",{children:e},t)})),Object(p.jsxs)("p",{children:["Had Breakfast? ",Object(p.jsx)("input",{type:"checkbox",id:"hadBreakfast",value:a.hadBreakfast,onChange:g})]}),Object(p.jsxs)("p",{children:["Did you journal? ",Object(p.jsx)("input",{type:"checkbox",id:"journaled",value:a.journaled,onChange:g})]}),Object(p.jsxs)("p",{children:["Reading Time (in minutes): ",Object(p.jsx)("input",{type:"number",id:"readingTime",min:"0",value:a.readingTime,onChange:g})]}),Object(p.jsxs)("p",{children:["How would you rate today? ",Object(p.jsx)("input",{type:"number",id:"rating",min:"1",max:"10",value:a.rating,onChange:g})]}),Object(p.jsx)("button",{onClick:f,children:"Add Day"})]})})},x=(a(21),["activities","hadBreakfast","readingTime","weather"]),m=["==","<","<=",">",">=","!=","array-contains"],y=["activities"],w=function(){var e=Object(n.useState)(x[0]),t=Object(l.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)([]),o=Object(l.a)(i,2),r=o[0],s=o[1];return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Which _ will make the best day?"}),Object(p.jsx)("select",{id:"field",onChange:function(e){return c(e.target.value)},children:x.map((function(e){return Object(p.jsx)("option",{value:e,children:e})}))}),Object(p.jsx)("button",{id:"getResults",onClick:function(e){return t=e,console.log(t),void b.onSnapshot((function(e){var t={};e.forEach((function(e){if(y.includes(a)){var n=e.data()[a],c=e.data().rating;console.log(n),n.forEach((function(e){Object.keys(t).includes(e)?(t[e].sum+=c,t[e].count++):t[e]={sum:c,count:1}}))}else{var i=e.data()[a],o=e.data().rating;Object.keys(t).includes(i)?(t[i].sum+=o,t[i].count++):t[i]={sum:o,count:1}}}));var n=[];Object.entries(t).forEach((function(e){var t=e,a=Object(l.a)(t,2),c=a[0],i=a[1];e={value:c,average:i.sum/i.count},n.push(e)})),s(n)}),(function(e){console.log(e)}));var t},children:"Calculate!"}),r.map((function(e){return Object(p.jsxs)("p",{children:[e.value,": ",e.average]})}))]})},C=function(){var e=Object(n.useState)({field:x[0],operator:m[0],value:""}),t=Object(l.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(0),o=Object(l.a)(i,2),r=o[0],s=o[1],j=function(e){var t=e.target,n=t.id,i=t.value;c(Object(d.a)(Object(d.a)({},a),{},Object(u.a)({},n,i)))};return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"How good will my day be if..."}),Object(p.jsx)("select",{id:"field",onChange:j,children:x.map((function(e){return Object(p.jsx)("option",{value:e,children:e})}))}),Object(p.jsx)("select",{id:"operator",onChange:j,children:m.map((function(e){return Object(p.jsx)("option",{value:e,children:e})}))}),Object(p.jsx)("input",{type:"text",id:"value",value:a.value,onChange:j}),Object(p.jsx)("button",{id:"getResults",onClick:function(e){return t=e,console.log(t),void b.where(a.field,a.operator,a.value).onSnapshot((function(e){var t=0;e.forEach((function(e){console.log("data"),console.log(e.data()),console.log(t);var a=e.data().rating;t+=a,console.log(a),console.log(t)})),s(t/e.size)}),(function(e){console.log(e)}));var t},children:"Calculate!"}),0!=r&&Object(p.jsxs)("p",{children:["Rating: ",r]})]})},k=["average","compare"],S=function(){var e=Object(n.useState)(k[0]),t=Object(l.a)(e,2);t[0],t[1];return Object(p.jsxs)("div",{children:[Object(p.jsx)(C,{}),Object(p.jsx)(w,{})]})};var A=function(){return Object(p.jsxs)(r.a,{children:[Object(p.jsx)(s.b,{path:"/",component:g}),Object(p.jsx)(s.b,{path:"/data",component:S})]})},B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,46)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),i(e),o(e)}))};o.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(A,{})}),document.getElementById("root")),B()}},[[44,1,2]]]);
//# sourceMappingURL=main.bf02d9c2.chunk.js.map