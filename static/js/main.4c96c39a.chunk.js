(this["webpackJsonpday-data"]=this["webpackJsonpday-data"]||[]).push([[0],{122:function(e,t,a){},151:function(e,t,a){},156:function(e,t,a){},157:function(e,t,a){},158:function(e,t,a){},159:function(e,t,a){},166:function(e,t,a){},167:function(e,t,a){},169:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(58),i=a.n(r),o=(a(151),a(14)),l=a(93);a(152),a(170);l.a.initializeApp({apiKey:"AIzaSyDG3OOX85L4j93eBU_5YGfwKrHyqyR4zqo",authDomain:"day-data-6a2e6.firebaseapp.com",databaseURL:"https://day-data-6a2e6-default-rtdb.firebaseio.com",projectId:"day-data-6a2e6",storageBucket:"day-data-6a2e6.appspot.com",messagingSenderId:"565567779519",appId:"1:565567779519:web:bb0be02aba68467cbb0c0a",measurementId:"G-W27M63J3LF"});var d=l.a.auth(),s=l.a.firestore(),u=s.collection("daily-data"),j=new l.a.auth.GoogleAuthProvider,b=a(23),O=a.n(b),h=a(186),f=(a(156),a(188)),m=(a(157),a(35)),p=a(19),x={date:{type:"date",name:"Date: ",tableHeader:"Date",editInTable:!1},rating:{type:"number",name:"How happy were you today?",min:0,max:10,tableHeader:"Happiness",editInTable:!0},excitement:{type:"number",name:"How exciting was today?",min:0,max:10,tableHeader:"Excitement",editInTable:!0},stress:{type:"number",name:"How stressed were you today?",min:0,max:10,tableHeader:"Stress",editInTable:!0},activities:{type:"array",name:"Activities:",new:"newActivity",add:"Activity",tableHeader:"Activities",editInTable:!0},hadBreakfast:{type:"checkbox",name:"Had Breakfast?",tableHeader:"Breakfast",editInTable:!0},dressup:{type:"checkbox",name:"Did I Dress Up or Feel Cute?",tableHeader:"Dressed Up",editInTable:!0},exercise:{type:"array",name:"Exercise:",new:"newExercise",add:"Exercise",tableHeader:"Exercise",editInTable:!0},food:{type:"array",name:"Food:",new:"newFood",add:"Food",tableHeader:"Food",editInTable:!0},journaled:{type:"checkbox",name:"Did I Journal?",tableHeader:"Journaled",editInTable:!0},peopleSaw:{type:"array",name:"People I Saw:",new:"newPerson",add:"Person",tableHeader:"People I Saw",editInTable:!0},readingTime:{type:"number",name:"Reading Time (in minutes):",min:0,max:3600,tableHeader:"Reading Time",editInTable:!0},showered:{type:"checkbox",name:"Did I Shower?",tableHeader:"Showered",editInTable:!0},skincare:{type:"checkbox",name:"Did I Do My Skincare Routine?",tableHeader:"Skincare",editInTable:!0},weather:{type:"text",name:"Weather:",tableHeader:"Weather",editInTable:!0}},y={activities:[],date:new Date,dressup:!1,exercise:[],food:[],hadBreakfast:!1,journaled:!1,newActivity:"",newExercise:"",newFood:"",newPerson:"",peopleSaw:[],showered:!1,skincare:!1,rating:5,excitement:5,stress:5,readingTime:0,weather:""},v={activities:"pink",food:"yellow",exercise:"teal",peopleSaw:"violet"},g=Object.keys(O.a.pickBy(x,(function(e){return"number"===e.type}))),w=Object.keys(O.a.pickBy(x,(function(e){return"checkbox"===e.type}))),k=function(e,t,a){return g.includes(e)?parseInt(t):w.includes(e)?!a:"date"===e?new Date(t+" "):t},I=a(189),C=a(171),S=(a(158),a(183)),D=a(192),T=(a(159),a(91)),A=a(66),H=a(3),F=function(e){var t=e.data,a=e.onDelete,n=e.fieldKey;return Object(H.jsx)("div",{style:{flexDirection:"row"},children:t.map((function(e,t){return Object(H.jsxs)(T.a,{color:(c=n,v[c]),style:{paddingTop:".78571429em",paddingBottom:".78571429em",marginTop:"5px"},children:[e,Object(H.jsx)(A.a,{name:"delete",onClick:function(){return a(e)}})]},t);var c}))})},V=function(e){var t=e.dataValue,a=e.onDeleteFromArray,n=e.dataFromKey,c=e.fieldKey,r=e.handleChange,i=e.newArrayValue,o=e.addToDataArray,l=e.onArrayInputChanged;return"array"===t.type?Object(H.jsxs)("div",{children:[Object(H.jsx)(S.a,{type:"text",id:t.new,value:i||"",onChange:l||r,label:Object(H.jsxs)(C.a,{id:c,onClick:function(e){return o(e,t.new)},children:["Add ",t.add]}),labelPosition:"right"}),Object(H.jsx)(F,{data:n,onDelete:a,fieldKey:c})]}):"number"===t.type?Object(H.jsx)(S.a,{type:t.type,min:t.min,max:t.max,id:c,value:n,onChange:r}):"checkbox"===t.type?Object(H.jsx)(D.a,{type:t.type,id:c,checked:n,onChange:r}):"date"===t.type?Object(H.jsx)(S.a,{type:t.type,id:c,value:n.toISOString().split("T")[0],onChange:r}):Object(H.jsx)(S.a,{placeholder:t.name,type:t.type,id:c,value:n,onChange:r})},E=function(){var e=Object(n.useState)(y),t=Object(o.a)(e,2),a=t[0],c=t[1],r=function(e){var t=e.target,n=t.id,r=t.value;c(Object(p.a)(Object(p.a)({},a),{},Object(m.a)({},n,k(n,r,a[n]))))},i=function(e,t){var n,r=e.target.id;0!==e.detail&&""!==a[t]&&c(Object(p.a)(Object(p.a)({},a),{},(n={},Object(m.a)(n,r,O.a.concat(a[r],[a[t]])),Object(m.a)(n,t,""),n)))};return Object(H.jsxs)(I.a,{children:[Object.entries(x).map((function(e){var t=Object(o.a)(e,2),n=t[0],l=t[1];return Object(H.jsxs)(I.a.Field,{inline:!0,children:[Object(H.jsx)("label",{children:l.name}),Object(H.jsx)(V,{dataValue:l,fieldKey:n,dataFromKey:a[n],handleChange:r,onDeleteFromArray:function(e){return function(e,t){c(Object(p.a)(Object(p.a)({},a),{},Object(m.a)({},t,O.a.without(a[t],e))))}(e,n)},newArrayValue:a[l.new],addToDataArray:i})]},n)})),Object(H.jsx)(C.a,{primary:!0,onClick:function(){var e=O.a.omit(a,["newActivity","newExercise","newPerson","newFood",""]);e=Object(p.a)(Object(p.a)({},e),{},{user:d.currentUser.uid}),console.log(e),u.add(e).then((function(e){c(y)})).catch((function(e){console.log("bad"+e)}))},children:"Add Day"})]})},P=(a(122),Object.keys(x)),N=["==","<","<=",">",">=","!=","array-contains"],U=O.a.filter(Object.entries(x),(function(e){return"array"===Object(o.a)(e,1)[0].type})).map((function(e){return Object(o.a)(e,1)[0]})),B=Object.entries(x).map((function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1];return{key:a,text:n.name.substring(0,n.name.length-1),value:a,id:"field"}})),K=N.map((function(e){return{key:e,text:e,value:e,id:"operator"}})),R=a(134),L=a(187),z=function(){var e=Object(n.useState)(P[0]),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),i=Object(o.a)(r,2),l=i[0],s=i[1];return Object(H.jsxs)("div",{children:[Object(H.jsx)("h1",{children:"Which _ will make the best day?"}),Object(H.jsx)(R.a,{stackable:!0,columns:2,children:Object(H.jsxs)(R.a.Row,{children:[Object(H.jsx)(R.a.Column,{children:Object(H.jsx)(L.a,{placeholder:"Field",fluid:!0,selection:!0,options:B,id:"field",onChange:function(e,t){var a=t.value;return c(a)}})}),Object(H.jsx)(R.a.Column,{children:Object(H.jsx)(C.a,{id:"getResults",onClick:function(e){u.where("user","==",d.currentUser.uid).onSnapshot((function(e){var t={};e.forEach((function(e){if(U.includes(a)){var n=e.data()[a],c=e.data().rating;console.log(n),n.forEach((function(e){Object.keys(t).includes(e)?(t[e].sum+=c,t[e].count++):t[e]={sum:c,count:1}}))}else{var r=e.data()[a],i=e.data().rating;Object.keys(t).includes(r)?(t[r].sum+=i,t[r].count++):t[r]={sum:i,count:1}}}));var n=[];Object.entries(t).forEach((function(e){var t=e,a=Object(o.a)(t,2),c=a[0],r=a[1];e={value:c,average:r.sum/r.count},n.push(e)})),s(n)}),(function(e){console.log(e)}))},children:"Calculate!"})})]})}),l.map((function(e){return Object(H.jsxs)("h3",{children:[e.value,": ",e.average]})}))]})},W=function(){var e=Object(n.useState)({field:P[0],operator:N[0],value:""}),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(0),i=Object(o.a)(r,2),l=i[0],s=i[1],j=function(e,t,n){c(Object(p.a)(Object(p.a)({},a),{},Object(m.a)({},n,t)))};return Object(H.jsxs)("div",{children:[Object(H.jsx)("h1",{children:"How good will my day be if..."}),Object(H.jsx)(R.a,{stackable:!0,columns:4,children:Object(H.jsxs)(R.a.Row,{children:[Object(H.jsx)(R.a.Column,{children:Object(H.jsx)(L.a,{placeholder:"Field",fluid:!0,selection:!0,options:B,id:"field",onChange:function(e,t){var a=t.value;return j(0,a,"field")}})}),Object(H.jsx)(R.a.Column,{children:Object(H.jsx)(L.a,{placeholder:"Operator",fluid:!0,selection:!0,options:K,id:"operator",onChange:function(e,t){var a=t.value;return j(0,a,"operator")}})}),Object(H.jsx)(R.a.Column,{children:Object(H.jsx)(S.a,{placeholder:"Value",fluid:!0,type:"text",id:"value",value:a.value,onChange:function(e,t){var a=t.value;return j(0,a,"value")}})}),Object(H.jsx)(R.a.Column,{children:Object(H.jsx)(C.a,{id:"getResults",onClick:function(e){u.where("user","==",d.currentUser.uid).where(a.field,a.operator,a.value).onSnapshot((function(e){var t=0;console.log(e),e.forEach((function(e){var a=e.data().rating;t+=a})),s(t/e.size)}),(function(e){console.log(e)}))},children:"Calculate!"})})]})}),0!=l&&Object(H.jsxs)("h3",{children:["Rating: ",l]})]})},G=a(184),J=["average","compare"],M=function(){var e=Object(n.useState)(J[0]),t=Object(o.a)(e,2);t[0],t[1];return Object(H.jsxs)("div",{children:[Object(H.jsx)(W,{}),Object(H.jsx)(G.a,{}),Object(H.jsx)(z,{})]})},q=(a(166),function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)({rowIndex:0,fieldName:"rating",fieldValue:5,inUse:!1}),i=Object(o.a)(r,2),l=i[0],s=i[1],j=Object(n.useState)(!0),b=Object(o.a)(j,2),h=b[0],f=b[1],y=Object(n.useState)(),v=Object(o.a)(y,2),g=v[0],w=v[1];Object(n.useEffect)((function(){console.log("use effect to get table data"),u.where("user","==",d.currentUser.uid).orderBy("date","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){var a=e.data(),n={};Object.entries(x).map((function(t){var c=Object(o.a)(t,2),r=c[0],i=c[1],l=a[r];n[r]={header:i.tableHeader,cellValue:l instanceof Object&&l.seconds?new Date(1e3*l.seconds):l,show:!0,type:i.type,id:e.id}})),t.push(n)})),c(t),console.log(t),f(!1)}),(function(e){console.log(e)}))}),[h]);var I=function(e,t){return Array.isArray(e)?Object(H.jsx)(F,{data:e,fieldKey:t}):e instanceof Date?e.toDateString():"boolean"==typeof e?Object(H.jsx)(D.a,{checked:e,disabled:!0}):e},S=function(e,t,a){s({rowIndex:e,fieldName:t,fieldValue:a,inUse:!l.inUse})},T=function(e,t){s(Object(p.a)(Object(p.a)({},l),{},{fieldValue:O.a.concat(l.fieldValue,g)})),w("")};return Object(H.jsxs)("div",{children:[Object(H.jsx)("h1",{children:"Table Data"}),!h&&a&&Object(H.jsxs)("table",{className:"ui celled table",children:[Object(H.jsx)("thead",{children:Object(H.jsx)("tr",{children:Object.values(a[0]).map((function(e,t){return Object(H.jsx)("th",{className:"col-name",children:e.header},t)}))})}),Object(H.jsx)("tbody",{children:a.map((function(e,t){return Object(H.jsx)("tr",{children:Object.entries(e).map((function(e){var a=Object(o.a)(e,2),n=a[0],c=a[1];return Object(H.jsx)("td",{"data-label":n,children:l.inUse&&l.fieldName===n&&l.rowIndex===t?Object(H.jsxs)("div",{className:"ui action input",children:[Object(H.jsx)(V,{dataValue:x[n],fieldKey:n,dataFromKey:l.fieldValue,handleChange:function(e){return function(e,t){s(Object(p.a)(Object(p.a)({},l),{},{fieldValue:k(t,e.target.value,l.fieldValue)}))}(e)},onArrayInputChanged:function(e){return w(e.target.value)},onDeleteFromArray:function(e){return t=e,void s(Object(p.a)(Object(p.a)({},l),{},{fieldValue:O.a.without(l.fieldValue,t)}));var t},newArrayValue:g,addToDataArray:T}),Object(H.jsx)(C.a,{onClick:function(){return e=c.id,t=n,a=c.cellValue,r=l.fieldValue,void u.doc(e).update(Object(m.a)({},t,k(t,r,a))).then((function(){S(),f(!0)}));var e,t,a,r},children:"Done"})]}):Object(H.jsxs)("div",{className:"custom-cell",children:[Object(H.jsx)("div",{className:"cell-value",children:I(c.cellValue,n)}),c.show&&Object(H.jsx)(C.a,{className:"edit-btn",size:"mini",onClick:function(){return S(t,n,c.cellValue)},children:Object(H.jsx)("i",{className:"edit icon edit-icon"})})]})},n+String(t))}))},t)}))})]}),Object(H.jsx)(C.a,{onClick:function(){return d.signOut()},children:"Logout"})]})}),_=function(){var e=[{menuItem:"Logging Form",render:function(){return Object(H.jsx)(f.a.Pane,{children:Object(H.jsx)(E,{user:!0})})}},{menuItem:"Data Analysis",render:function(){return Object(H.jsx)(f.a.Pane,{children:Object(H.jsx)(M,{user:!0})})}},{menuItem:"Table Data",render:function(){return Object(H.jsx)(f.a.Pane,{children:Object(H.jsx)(q,{user:!0})})}}];return Object(H.jsx)(f.a,{panes:e,className:"tabs-container"})},X=a(185),Y=a(191),Q=(a(167),function(){return Object(H.jsxs)(X.a,{textAlign:"center",children:[Object(H.jsx)(Y.a,{as:"h1",className:"title",children:"Welcome to Day Data"}),Object(H.jsx)(Y.a,{as:"h3",children:"An easy way to track your days and analyze which patterns lead to the best days"}),Object(H.jsx)(C.a,{color:"google plus",onClick:function(){d.signInWithPopup(j).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},children:"Sign in with Google"})]})}),Z=function(){var e=Object(n.useState)(null!=d.currentUser),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!0),i=Object(o.a)(r,2),l=i[0],s=i[1];return Object(n.useEffect)((function(){d.onAuthStateChanged((function(e){c(!!e),s(!1)}))}),[d]),Object(H.jsx)("div",{className:"main-container",children:l?Object(H.jsx)(h.a,{active:!0}):a?Object(H.jsx)(_,{}):Object(H.jsx)(Q,{})})};a(168);var $=function(){return Object(H.jsx)(Z,{})},ee=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,193)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))};i.a.render(Object(H.jsx)(c.a.StrictMode,{children:Object(H.jsx)($,{})}),document.getElementById("root")),ee()}},[[169,1,2]]]);
//# sourceMappingURL=main.4c96c39a.chunk.js.map