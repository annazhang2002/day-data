(this["webpackJsonpday-data"]=this["webpackJsonpday-data"]||[]).push([[0],{131:function(e,t,a){},159:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){},166:function(e,t,a){},167:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){},177:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),i=a(60),r=a.n(i),o=(a(159),a(14)),s=a(95);a(160),a(178);s.a.initializeApp({apiKey:"AIzaSyDG3OOX85L4j93eBU_5YGfwKrHyqyR4zqo",authDomain:"day-data-6a2e6.firebaseapp.com",databaseURL:"https://day-data-6a2e6-default-rtdb.firebaseio.com",projectId:"day-data-6a2e6",storageBucket:"day-data-6a2e6.appspot.com",messagingSenderId:"565567779519",appId:"1:565567779519:web:bb0be02aba68467cbb0c0a",measurementId:"G-W27M63J3LF"});var l=s.a.auth(),d=s.a.firestore(),u=d.collection("daily-data"),j=new s.a.auth.GoogleAuthProvider,b=a(194),O=(a(163),a(196)),h=(a(164),a(37)),f=a(19),x=a(23),p=a.n(x),m={date:{type:"date",name:"Date: ",tableHeader:"Date",editInTable:!1},rating:{type:"number",name:"How happy were you today?",min:0,max:10,tableHeader:"Happiness",editInTable:!0,ratingField:!0},excitement:{type:"number",name:"How exciting was today?",min:0,max:10,tableHeader:"Excitement",editInTable:!0,ratingField:!0},stress:{type:"number",name:"How stressed were you today?",min:0,max:10,tableHeader:"Stress",editInTable:!0,ratingField:!0},activities:{type:"array",name:"Activities:",new:"newActivity",add:"Activity",tableHeader:"Activities",editInTable:!0},hadBreakfast:{type:"checkbox",name:"Had Breakfast?",tableHeader:"Breakfast",editInTable:!0},dressup:{type:"checkbox",name:"Did I Dress Up or Feel Cute?",tableHeader:"Dressed Up",editInTable:!0},exercise:{type:"array",name:"Exercise:",new:"newExercise",add:"Exercise",tableHeader:"Exercise",editInTable:!0},food:{type:"array",name:"Food:",new:"newFood",add:"Food",tableHeader:"Food",editInTable:!0},journaled:{type:"checkbox",name:"Did I Journal?",tableHeader:"Journaled",editInTable:!0},peopleSaw:{type:"array",name:"People I Saw:",new:"newPerson",add:"Person",tableHeader:"People I Saw",editInTable:!0},readingTime:{type:"number",name:"Reading Time (in minutes):",min:0,max:3600,tableHeader:"Reading Time",editInTable:!0},showered:{type:"checkbox",name:"Did I Shower?",tableHeader:"Showered",editInTable:!0},skincare:{type:"checkbox",name:"Did I Do My Skincare Routine?",tableHeader:"Skincare",editInTable:!0},weather:{type:"text",name:"Weather:",tableHeader:"Weather",editInTable:!0}},y={activities:[],date:new Date,dressup:!1,exercise:[],food:[],hadBreakfast:!1,journaled:!1,newActivity:"",newExercise:"",newFood:"",newPerson:"",peopleSaw:[],showered:!1,skincare:!1,rating:5,excitement:5,stress:5,readingTime:0,weather:""},v={activities:"pink",food:"yellow",exercise:"teal",peopleSaw:"violet"},g=Object.keys(p.a.pickBy(m,(function(e){return"number"===e.type}))),w=Object.keys(p.a.pickBy(m,(function(e){return"checkbox"===e.type}))),k=function(e,t,a){return g.includes(e)?parseInt(t):w.includes(e)?!a:"date"===e?new Date(t+" "):t},C=a(197),I=a(133),S=a(127),D=(a(166),a(190)),T=a(201),A=(a(167),a(93)),F=a(67),H=a(3),V=function(e){var t=e.data,a=e.onDelete,n=e.fieldKey;return Object(H.jsx)("div",{style:{flexDirection:"row"},children:t.map((function(e,t){return Object(H.jsxs)(A.a,{color:(c=n,v[c]),style:{paddingTop:".78571429em",paddingBottom:".78571429em",marginTop:"5px"},children:[e,Object(H.jsx)(F.a,{name:"delete",onClick:function(){return a(e)}})]},t);var c}))})},E=function(e){var t=e.dataValue,a=e.onDeleteFromArray,n=e.dataFromKey,c=e.fieldKey,i=e.handleChange,r=e.newArrayValue,o=e.addToDataArray,s=e.onArrayInputChanged;return"array"===t.type?Object(H.jsxs)("div",{children:[Object(H.jsx)(D.a,{type:"text",id:t.new,value:r||"",onChange:s||i,label:Object(H.jsxs)(I.a,{id:c,onClick:function(e){return o(e,t.new)},children:["Add ",t.add]}),labelPosition:"right"}),Object(H.jsx)(V,{data:n,onDelete:a,fieldKey:c})]}):"number"===t.type?Object(H.jsx)(D.a,{type:t.type,min:t.min,max:t.max,id:c,value:n,onChange:i}):"checkbox"===t.type?Object(H.jsx)(T.a,{type:t.type,id:c,checked:n,onChange:i}):"date"===t.type?Object(H.jsx)(D.a,{type:t.type,id:c,value:n.toISOString().split("T")[0],onChange:i}):Object(H.jsx)(D.a,{placeholder:t.name,type:t.type,id:c,value:n,onChange:i})},B=function(e){var t=Object(n.useState)(y),a=Object(o.a)(t,2),c=a[0],i=a[1],r=Object(n.useState)(!1),s=Object(o.a)(r,2),d=s[0],j=s[1],b=function(e){var t=e.target,a=t.id,n=t.value;i(Object(f.a)(Object(f.a)({},c),{},Object(h.a)({},a,k(a,n,c[a]))))},O=function(e,t){var a,n=e.target.id;0!==e.detail&&""!==c[t]&&i(Object(f.a)(Object(f.a)({},c),{},(a={},Object(h.a)(a,n,p.a.concat(c[n],[c[t]])),Object(h.a)(a,t,""),a)))};return Object(H.jsxs)(C.a,{children:[Object.entries(m).map((function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1];return Object(H.jsxs)(C.a.Field,{inline:!0,children:[Object(H.jsx)("label",{children:n.name}),Object(H.jsx)(E,{dataValue:n,fieldKey:a,dataFromKey:c[a],handleChange:b,onDeleteFromArray:function(e){return function(e,t){i(Object(f.a)(Object(f.a)({},c),{},Object(h.a)({},t,p.a.without(c[t],e))))}(e,a)},newArrayValue:c[n.new],addToDataArray:O})]},a)})),Object(H.jsx)(I.a,{primary:!0,onClick:function(){var e=p.a.omit(c,["newActivity","newExercise","newPerson","newFood",""]);e=Object(f.a)(Object(f.a)({},e),{},{user:l.currentUser.uid}),console.log(e),u.add(e).then((function(e){i(y),j(!0)})).catch((function(e){console.log("bad"+e)}))},children:"Add Day"}),Object(H.jsxs)(S.a,{size:"mini",open:d,onClose:function(){return j(!1)},children:[Object(H.jsx)(S.a.Content,{children:"Day Successfully Logged!"}),Object(H.jsx)(S.a.Actions,{children:Object(H.jsx)(I.a,{positive:!0,onClick:function(){return e.changeTab(2)},children:"Ok"})})]})]})},P=(a(131),Object.keys(m)),N=["==","<","<=",">",">=","!=","array-contains"],U=p.a.filter(Object.entries(m),(function(e){var t=Object(o.a)(e,2);t[0];return"array"===t[1].type})).map((function(e){return Object(o.a)(e,1)[0]})),K=p.a.filter(Object.entries(m),(function(e){var t=Object(o.a)(e,2);t[0];return t[1].ratingField})).map((function(e){var t=Object(o.a)(e,2),a=t[0];return{key:a,text:t[1].tableHeader,value:a,id:"field"}})),R=Object.entries(m).map((function(e){var t=Object(o.a)(e,2),a=t[0];return{key:a,text:t[1].tableHeader,value:a,id:"field"}})),z=N.map((function(e){return{key:e,text:e,value:e,id:"operator"}})),L=a(145),W=a(195),G=function(){var e=Object(n.useState)(P[0]),t=Object(o.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(K[0].value),r=Object(o.a)(i,2),s=r[0],d=r[1],j=Object(n.useState)([]),b=Object(o.a)(j,2),O=b[0],h=b[1];console.log(K),console.log(s);return Object(H.jsxs)("div",{children:[Object(H.jsx)("h1",{children:"Which _ will make the best day?"}),Object(H.jsx)(L.a,{stackable:!0,columns:3,children:Object(H.jsxs)(L.a.Row,{children:[Object(H.jsx)(L.a.Column,{children:Object(H.jsx)(W.a,{placeholder:"Field",fluid:!0,selection:!0,options:R,id:"field",onChange:function(e,t){var a=t.value;return c(a)}})}),Object(H.jsx)(L.a.Column,{children:Object(H.jsx)(W.a,{placeholder:"Rating Field",fluid:!0,selection:!0,options:K,id:"ratingField",onChange:function(e,t){var a=t.value;return d(a)}})}),Object(H.jsx)(L.a.Column,{children:Object(H.jsx)(I.a,{id:"getResults",onClick:function(e){u.where("user","==",l.currentUser.uid).onSnapshot((function(e){var t={};e.forEach((function(e){var n=e.data()[a],c=e.data()[s];U.includes(a)?n.forEach((function(e){Object.keys(t).includes(e)?(t[e].sum+=c,t[e].count++):t[e]={sum:c,count:1}})):Object.keys(t).includes(n)?(t[n].sum+=c,t[n].count++):t[n]={sum:c,count:1}}));var n=[];Object.entries(t).forEach((function(e){var t=e,a=Object(o.a)(t,2),c=a[0],i=a[1];e={value:c,average:i.sum/i.count},n.push(e)})),n=p.a.reverse(p.a.sortBy(n,"average")),h(n)}),(function(e){console.log(e)}))},children:"Calculate!"})})]})}),O.map((function(e){return Object(H.jsxs)("h3",{children:[e.value,": ",e.average]})}))]})},J=function(){var e=Object(n.useState)({field:P[0],operator:N[0],value:""}),t=Object(o.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)({happiness:0,excitement:0,stress:0}),r=Object(o.a)(i,2),s=r[0],d=r[1],j=function(e,t,n){c(Object(f.a)(Object(f.a)({},a),{},Object(h.a)({},n,t)))};return Object(H.jsxs)("div",{children:[Object(H.jsx)("h1",{children:"How good will my day be if..."}),Object(H.jsx)(L.a,{stackable:!0,columns:4,children:Object(H.jsxs)(L.a.Row,{children:[Object(H.jsx)(L.a.Column,{children:Object(H.jsx)(W.a,{placeholder:"Field",fluid:!0,selection:!0,options:R,id:"field",onChange:function(e,t){var a=t.value;return j(0,a,"field")}})}),Object(H.jsx)(L.a.Column,{children:Object(H.jsx)(W.a,{placeholder:"Operator",fluid:!0,selection:!0,options:z,id:"operator",onChange:function(e,t){var a=t.value;return j(0,a,"operator")}})}),Object(H.jsx)(L.a.Column,{children:Object(H.jsx)(D.a,{placeholder:"Value",fluid:!0,type:"text",id:"value",value:a.value,onChange:function(e,t){var a=t.value;return j(0,a,"value")}})}),Object(H.jsx)(L.a.Column,{children:Object(H.jsx)(I.a,{id:"getResults",onClick:function(e){u.where("user","==",l.currentUser.uid).where(a.field,a.operator,a.value).onSnapshot((function(e){var t=0,a=0,n=0;e.forEach((function(e){t+=e.data().rating,a+=e.data().excitement,n+=e.data().stress})),d({happiness:t/e.size,excitement:a/e.size,stress:n/e.size})}),(function(e){console.log(e)}))},children:"Calculate!"})})]})}),0!==s.happiness&&Object(H.jsxs)("h3",{children:["Happiness: ",s.happiness]}),0!==s.excitement&&Object(H.jsxs)("h3",{children:["Excitement: ",s.excitement]}),0!==s.stress&&Object(H.jsxs)("h3",{children:["Stress: ",s.stress]})]})},M=a(191),q=function(){return Object(H.jsxs)("div",{children:[Object(H.jsx)(J,{}),Object(H.jsx)(M.a,{}),Object(H.jsx)(G,{})]})},_=a(192),X=(a(174),function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)({rowIndex:0,fieldName:"rating",fieldValue:5,inUse:!1}),r=Object(o.a)(i,2),s=r[0],d=r[1],j=Object(n.useState)(!0),b=Object(o.a)(j,2),O=b[0],x=b[1],y=Object(n.useState)(),v=Object(o.a)(y,2),g=v[0],w=v[1],C=Object(n.useState)(!1),S=Object(o.a)(C,2),D=S[0],A=S[1],B=Object(n.useState)(),P=Object(o.a)(B,2),N=P[0],U=P[1];Object(n.useEffect)((function(){console.log("use effect to get table data"),u.where("user","==",l.currentUser.uid).orderBy("date","desc").onSnapshot((function(e){var t={};e.forEach((function(e){var a=e.data(),n={};Object.entries(m).map((function(e){var t=Object(o.a)(e,2),c=t[0],i=t[1],r=a[c];n[c]={header:i.tableHeader,cellValue:r instanceof Object&&r.seconds?new Date(1e3*r.seconds):r,show:!0,type:i.type}})),t[e.id]=n})),c(t),console.log(t),x(!1)}),(function(e){console.log(e)}))}),[O]);var K=function(e,t){return Array.isArray(e)?Object(H.jsx)(V,{data:e,fieldKey:t}):e instanceof Date?e.toDateString():"boolean"==typeof e?Object(H.jsx)(T.a,{checked:e,disabled:!0}):e},R=function(e,t,a){d({rowIndex:e,fieldName:t,fieldValue:a,inUse:!s.inUse})},z=function(e,t){d(Object(f.a)(Object(f.a)({},s),{},{fieldValue:p.a.concat(s.fieldValue,g)})),w("")};return Object(H.jsxs)("div",{children:[Object(H.jsx)("h1",{children:"Table Data"}),!O&&a&&Object(H.jsxs)("table",{className:"ui celled table",children:[Object(H.jsx)("thead",{children:Object(H.jsxs)("tr",{children:[Object.values(Object.values(a)[0]).map((function(e,t){return Object(H.jsx)("th",{className:"col-name",children:e.header},t)})),Object(H.jsx)("th",{children:"Delete Row"})]})}),Object(H.jsx)("tbody",{children:Object.entries(a).map((function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1];return Object(H.jsxs)("tr",{children:[Object.entries(n).map((function(e){var t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(H.jsx)("td",{"data-label":n,children:s.inUse&&s.fieldName===n&&s.rowIndex===a?Object(H.jsxs)("div",{className:"ui action input",children:[Object(H.jsx)(E,{dataValue:m[n],fieldKey:n,dataFromKey:s.fieldValue,handleChange:function(e){return function(e,t){d(Object(f.a)(Object(f.a)({},s),{},{fieldValue:k(t,e.target.value,s.fieldValue)}))}(e)},onArrayInputChanged:function(e){return w(e.target.value)},onDeleteFromArray:function(e){return t=e,void d(Object(f.a)(Object(f.a)({},s),{},{fieldValue:p.a.without(s.fieldValue,t)}));var t},newArrayValue:g,addToDataArray:z}),Object(H.jsx)(I.a,{onClick:function(){return e=a,t=n,i=c.cellValue,r=s.fieldValue,void u.doc(e).update(Object(h.a)({},t,k(t,r,i))).then((function(){R(),x(!0)}));var e,t,i,r},children:"Done"})]}):Object(H.jsxs)("div",{className:"custom-cell",children:[Object(H.jsx)("div",{className:"cell-value",children:K(c.cellValue,n)}),c.show&&Object(H.jsx)(I.a,{className:"edit-btn",size:"mini",onClick:function(){return R(a,n,c.cellValue)},children:Object(H.jsx)("i",{className:"edit icon edit-icon"})})]})},n+a)})),Object(H.jsx)("td",{children:Object(H.jsx)(I.a,{children:Object(H.jsx)(F.a,{name:"delete",onClick:function(){U(a),A(!0)}})})})]},a)}))})]}),Object(H.jsx)(I.a,{onClick:function(){return l.signOut()},children:"Logout"}),Object(H.jsx)(_.a,{open:D,content:"Are you sure you want to delete this row?",confirmButton:"Delete",onCancel:function(){return A(!1)},onConfirm:function(){return e=N,void u.doc(e).delete().then((function(){console.log("Document successfully deleted!"),A(!1)})).catch((function(e){console.error("Error removing document: ",e)}));var e},size:"mini"})]})}),Y=function(){var e=Object(n.useState)(0),t=Object(o.a)(e,2),a=t[0],c=t[1],i=[{menuItem:"Logging Form",render:function(){return Object(H.jsx)(O.a.Pane,{children:Object(H.jsx)(B,{user:!0,changeTab:c})})}},{menuItem:"Data Analysis",render:function(){return Object(H.jsx)(O.a.Pane,{children:Object(H.jsx)(q,{user:!0})})}},{menuItem:"Table Data",render:function(){return Object(H.jsx)(O.a.Pane,{children:Object(H.jsx)(X,{user:!0})})}}];return Object(H.jsx)(O.a,{panes:i,activeIndex:a,className:"tabs-container",onTabChange:function(e,t){var a=t.activeIndex;return c(a)}})},Q=a(193),Z=a(199),$=(a(175),function(){return Object(H.jsxs)(Q.a,{textAlign:"center",children:[Object(H.jsx)(Z.a,{as:"h1",className:"title",children:"Welcome to Day Data"}),Object(H.jsx)(Z.a,{as:"h3",children:"An easy way to track your days and analyze which patterns lead to the best days"}),Object(H.jsx)(I.a,{color:"google plus",onClick:function(){l.signInWithPopup(j).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},children:"Sign in with Google"})]})}),ee=function(){var e=Object(n.useState)(null!=l.currentUser),t=Object(o.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(!0),r=Object(o.a)(i,2),s=r[0],d=r[1];return Object(n.useEffect)((function(){l.onAuthStateChanged((function(e){c(!!e),d(!1)}))}),[]),Object(H.jsx)("div",{className:"main-container",children:s?Object(H.jsx)(b.a,{active:!0}):a?Object(H.jsx)(Y,{}):Object(H.jsx)($,{})})};a(176);var te=function(){return Object(H.jsx)(ee,{})},ae=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,202)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),i(e),r(e)}))};r.a.render(Object(H.jsx)(c.a.StrictMode,{children:Object(H.jsx)(te,{})}),document.getElementById("root")),ae()}},[[177,1,2]]]);
//# sourceMappingURL=main.7bb4ccd8.chunk.js.map